<app-nav-bar></app-nav-bar>
<br><br><br>
<div align="center">
    <mat-card>

        <form [formGroup]="form" (ngSubmit)="onSavePost()">
            <b>Create New Product</b>
            <br>
            <mat-form-field appearance="outline">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name" placeholder="Name">

                <mat-error *ngIf="form.get('name').invalid ">Please Enter the Valid Product Name</mat-error>

            </mat-form-field>
            <br>
            <mat-form-field appearance="outline">
                <mat-label>Price</mat-label>

                <input matInput formControlName="price" placeholder="Price"><br>
                <mat-error *ngIf="form.get('price').invalid ">Please Enter the Valid Price</mat-error>

            </mat-form-field>


            <br>

            <div class="form-group">
                <label for="file">Upload Product Image</label><br>
                <input type="file" id="productImage" name="productImage" (change)="handleFileInput($event.target.files) ">
            </div>

            <div class="image-preview">
                <img [src]="imagePreview ">
            </div>


            <br>

            <button mat-raised-button color="primary" type="submit ">Create Product</button>

        </form>
    </mat-card>
</div>

<br><br>
<hr>

<div class="list">
    <mat-card class="example-card" *ngFor="let product of productList">

        <mat-card-header>
            <div mat-card-avatar class=" example-header-image "></div>
            <mat-card-title>{{product?.name}}</mat-card-title>
        </mat-card-header>
        <img mat-card-image src="http://localhost:3000/{{product?.productImage}} " alt=" Photo of {{product?.name}} ">
        <mat-card-content>
            <b>Price:</b>{{product?.price}}
        </mat-card-content>

        <mat-card-actions>
            <button mat-raised-button color="warn" (click)="delete(product?._id)">Delete</button>
            <button mat-raised-button color="primary" (click)="update(product?._id)">Update</button>


        </mat-card-actions>
        <br>

    </mat-card>
</div>